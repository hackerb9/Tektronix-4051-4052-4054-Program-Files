1 REM **  DIGITIZING DRAFTING SYSTEM FOR 4050 SERIES WITH 4662      **2 REM **  AND 4956 SEE NOTES FOR MOD TO 4662 INPUT.                 **3 REM **  WRITTEN BY TOM SUTHERLIN CAMERON UNIVERSITY JAN. 1977     **4 INIT 5 Q=326 GO TO 1108 INIT 9 Q=110 GO TO 110100 INIT 110 SET DEGREES 120 SCALE 1,1130 REM THIS IS THE INPUT OF DIGITIZING SECTION140 DIM X(900),Y(900),C$(1),Z$(1),B$(32)145 P=0150 REMARK TO THE ORIGIN SETTING SUBROUTINE160 GOSUB 24000170 I=1180 INPUT @8:X(I),Y(I),Z$190 PRINT "";200 X(I)=X(I)/20210 Y(I)=Y(I)/20220 P=P+1230 IF X(I)>130 THEN 270240 I=I+1250 GO TO 180260 REM LOGIC FOR MENU TEST270 REM THIS IS THE SUBROUTINE FOR ANGLE OF ROTATION CALCULATION280 GOSUB 23000290 REM TESTING FOR VERTICAL POSITION IN FIRST COLUMN300 IF X(I)>140 THEN 400310 GO TO INT(Y(I)/10) OF 9000,8000,7000,6000,5000,4000,3000,2000,1000320 GO TO 25000400 REM TESTING FOR VERTICAL POSITION IN SECOND COLUMN410 GO TO INT(Y(I)/10) OF 520,520,520,520,520,520420 GO TO INT(Y(I)/10-6) OF 14000,13000,12000520 REM INSERT ERROR MESSAGES FROM 530 THRU 990530 STOP 1000 REM THIS IS THE SUBROUTINE FOR A SOLID LINE1010 MOVE @Q:X(J),Y(J)1020 RDRAW @Q:S,01025 P=01030 GO TO 2402000 REM HIDDEN LINE SUBROUTINE2010 MOVE @Q:X(J),Y(J)2020 IF S<7.5 THEN 20502030 T=102040 GO TO 20602050 IF S<4 THEN 20552052 T=52054 GO TO 20602055 T=22060 S1=S/(2*T+1)2070 FOR L=1 TO 2*T STEP 12080 RDRAW @Q:S1,02090 L=L+12100 RMOVE @Q:S1,02110 NEXT L2120 RDRAW @Q:S1,02130 P=02140 GO TO 2403000 REM CENTER LINE SUBROUTINE3010 MOVE @Q:X(J),Y(J)3020 S1=(S-3.5)/23030 RDRAW @Q:S1,03040 RMOVE @Q:1,03050 RDRAW @Q:1.5,03060 RMOVE @Q:1,03070 RDRAW @Q:S1,03075 P=03080 GO TO 2404000 REM CIRCLE SUBROUTINE4010 MOVE @Q:X(J)+S,Y(J)4020 FOR L=10 TO 360 STEP 104030 DRAW @Q:S*COS(L)+X(J),S*SIN(L)+Y(J)4040 NEXT L4045 P=04050 GO TO 2405000 REM HIDDEN CIRCLE SUBROUTINE5010 MOVE @Q:X(J)+S,Y(J)5020 IF S<6 THEN 50905030 FOR L=10 TO 360 STEP 105040 DRAW @Q:S*COS(L)+X(J),S*SIN(L)+Y(J)5050 L=L+105060 MOVE @Q:S*COS(L)+X(J),S*SIN(L)+Y(J)5070 NEXT L5075 P=05080 GO TO 2405090 FOR L=20 TO 360 STEP 205100 DRAW @Q:S*COS(L)+X(J),S*SIN(L)+Y(J)5110 L=L+205120 MOVE @Q:S*COS(L)+X(J),S*SIN(L)+Y(J)5130 NEXT L5135 P=05140 GO TO 2406000 REM PARTIAL ARC SUBROUTINE6010 A1=A6020 J=I-26030 K=I-36040 GOSUB 230306050 IF A>A1 THEN 60706060 A=A+3606070 A2=(A-A1)/106080 MOVE @Q:X(I-1),Y(I-1)6090 IF Y(I)<40 THEN 70606100 FOR L=A1+A2 TO A STEP A26110 DRAW @Q:S*COS(L)+X(I-2),S*SIN(L)+Y(I-2)6120 NEXT L6130 P=06140 GO TO 2407000 REM PARTIAL HIDDEN ARC7010 REM USES CALCULATION OF ANGLE FROM PARTIAL ARC7020 GO TO 60007060 FOR L=A1+A2 TO A STEP A27070 DRAW @Q:S*COS(L)+X(I-2),S*SIN(L)+Y(I-2)7080 L=L+A27090 MOVE @Q:S*COS(L)+X(I-2),S*SIN(L)+Y(I-2)7100 NEXT L7105 P=07110 GO TO 2408000 REM ARROWHEAD-LEADER SUBROUTINE8010 MOVE @Q:X(J),Y(J)8020 ROTATE A+1808030 RDRAW @Q:-1,-0.358040 RDRAW @Q:0,0.78050 RDRAW @Q:1,-0.358060 RDRAW @Q:-S,08065 P=08070 GO TO 2409000 REM ALPHANUMERIC DIMENSION SUBROUTINE LIMIT 16 CHARACTERS9005 IF Q=1 THEN 91009010 FOR L=1 TO 5 STEP 19020 HOME 9030 PRINT "ENTER YOUR DIMENSION,LIMIT 16 CHARACTERS";9040 NEXT L9050 MOVE @Q:X(J),Y(J)9055 MOVE X(J),Y(J)9060 INPUT B$9070 MOVE @Q:X(J),Y(J)9080 PRINT @Q:B$;9085 P=09090 GO TO 2409100 PRINT @1,17:1,29105 P=09110 GO TO 901010000 REM CORRECTION SUBROUTINE10010 REM NOT IMPLEMENTED YET10020 STOP 12000 REM SUBROUTINE FOR RECTANGLE12010 REM MUST DIGITIZE LOWER LEFT AND THEN UPPER RIGHT12020 MOVE @Q:X(J),Y(J)12030 ROTATE 012040 RDRAW @Q:H,012050 RDRAW @Q:0,V12060 RDRAW @Q:-H,012070 RDRAW @Q:0,-V12075 P=012080 GO TO 24013000 REM POLYGON SUBROUTINE13010 N=I-P13020 N=N+113030 MOVE @Q:X(N),Y(N)13040 N=N+113050 FOR M=N TO I-1 STEP 113060 DRAW @Q:X(M),Y(M)13070 NEXT M13080 P=013090 GO TO 24014000 REM CROSS-HATCH SUBROUTINE14001 REM Shading Routine for Complex Shapes14002 REM BY: Chuck Eng,Tektronix, Inc.14003 REM TEKniques Vol.3 No.1 February 1, 197914005 SET RADIANS 14010 N=P-114020 DIM P2(2,N),W(2,N+1),O2(N-1),P1(2)14025 GOSUB 1460014030 S3=1.0E+30714040 L1=-1.0E+30714050 S4=SIN(45)14060 O3=COS(45)14070 FOR L=1 TO N14080 W(1,L)=P2(1,L)*O3+P2(2,L)*S414090 W(2,L)=-P2(1,L)*S4+P2(2,L)*O314100 S3=S3 MIN W(2,L)14110 L1=L1 MAX W(2,L)14120 NEXT L14130 W(1,N+1)=W(1,1)14140 W(2,N+1)=W(2,1)14150 O1=S3+0.5*1.2514160 IF O1>L1 THEN 1443014170 O4=014180 FOR L=1 TO N14190 W1=W(2,L) MIN W(2,L+1)14200 IF O1<W1 THEN 1432014210 W2=W(2,L) MAX W(2,L+1)14220 IF O1=>W2 THEN 1432014230 O5=W(1,L)-(W(2,L)-O1)*(W(1,L)-W(1,L+1))/(W(2,L)-W(2,L+1))14240 O4=O4+114250 O=O414260 IF O=1 THEN 1431014270 IF O2(O-1)=>O5 THEN 1431014280 O2(O)=O2(O-1)14290 O=O-114300 GO TO 1426014310 O2(O)=O514320 NEXT L14330 FOR L=1 TO O414340 P1(1)=O2(L)*O3-O1*S414350 P1(2)=O2(L)*S4+O1*O314360 IF 2*INT(0.5*L)-L>-0.1 THEN 1439014370 MOVE @Q:P1(1),P1(2)14380 GO TO 1440014390 DRAW @Q:P1(1),P1(2)14400 NEXT L14410 O1=O1+1.2514420 GO TO 1416014430 P=014435 DELETE P2,W,O2,P114440 GO TO 24014600 REM I.D. OF COORDINATES FOR CROSS HATCHED AREA14610 P=I-P14630 FOR L=1 TO N14640 P2(1,L)=X(P+L)14650 P2(2,L)=Y(P+L)14660 NEXT L14670 MOVE @Q:P2(1,1),P2(2,1)14675 SET DEGREES 14680 RETURN 14690 P=014700 GO TO 24023000 REM ANGLE POSITION OF SYMBOL CALCULATION23010 J=I-223020 K=I-123030 H=X(K)-X(J)23040 V=Y(K)-Y(J)23050 S=ABS(SQR(H^2+V^2))23060 IF H=0 THEN 2316023070 A=ATN(V/H)23080 IF V=0 THEN 2313023090 IF H<0 THEN 2311023100 GO TO 2320023110 A=A+18023120 GO TO 2320023130 IF X(J)<X(K) THEN 2320023140 A=18023150 GO TO 2320023160 IF Y(J)<Y(K) THEN 2319023170 A=27023180 GO TO 2320023190 A=9023200 ROTATE A23210 RETURN 24000 REM THIS SECTION ALLOWS FOR THE SETTING OF 4956 ORIGIN24010 PAGE 24020 PRINT "

THIS IS THE SEQUENCE FOR SETTING THE DIGITIZER ORIGIN."24030 PRINT "

FOLLOW EACH STEP EXACTLY."24040 PRINT "

1. DEPRESS ORIGIN BUTTON ON 4956 CONTROLLER AND HOLD."24050 PRINT "

2. PLACE PEN/CURSOR AT MENU ORIGIN."24060 PRINT "

3. PRESS PEN OR CURSOR BUTTON AND HOLD DOWN."24070 PRINT "

4. RELEASE ORIGIN BUTTON ON 4956 CONTROLLER."24080 INPUT @8:T,L,C$24090 PRINT "



 YOU HAVE COMPLETED SETTING THE ORIGIN."24100 PRINT "

**** TO CONTINUE PRESS THE RETURN KEY. ****"24110 INPUT C$24120 PAGE 24130 RETURN 25000 REM END OF PROGRAM25010 FOR L=1 TO 5 STEP 125020 MOVE 90,025030 PRINT "PROGRAM TERMINATED";25040 NEXT L25050 END 