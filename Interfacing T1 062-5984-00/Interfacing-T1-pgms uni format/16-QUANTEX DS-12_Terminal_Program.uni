1 REM 51/00-6111/0  QUANTEX DS-12 DATA ACCESS PROGRAM  2 MARCH 19792 GO TO 1004 REM MENU5 PAGE 6 GOSUB 1907 RETURN 8 REM RETRIEVE ONE LINE (H)9 I1=5310 GOSUB 100011 RETURN 12 REM RETRIEVE ONE LINE (V)13 I1=5314 GOSUB 200015 RETURN 16 REM WRITE A CROSS17 GOSUB 300020 REM STORE A FIELD ON TAPE21 I1=5322 GOSUB 400023 RETURN 32 REM PLOT ONE LINE (H)33 GOSUB 1000034 RETURN 40 REM RESTORE41 GOSUB 500042 RETURN 44 REM INITIALIZE45 GO TO 10048 REM SEND ONE LINE (H)49 I1=4950 GOSUB 100051 RETURN 52 REM SEND ONE LINE (V)53 I1=4954 GOSUB 200055 RETURN 60 REM SEND A FIELD FROM TAPE61 I1=4962 GOSUB 400063 RETURN 100 REM INITIALIZE INSTRUMENTS110 INIT 112 F=512120 DIM A(6),B(F),C(20),D(F),T(F)130 C=0132 T=0140 PRINT "4051 DEMONSTRATION PROGRAM FOR QUANTEX DS-12 IMAGE PROCES";150 PRINT "SOR."160 FOR I=1 TO F170 B(I)=I180 NEXT I190 PRINT "
	FUNCTION KEY LAYOUT:"200 REM DRAW FUNCTION KEY LAYOUT210 Y=88220 X1=16.128230 X=20240 FOR I=1 TO 5250 PRINT @32,21:X,Y260 PRINT @32,20:X,Y-2.5,X+10,Y-2.5,X+10,Y,X,Y270 X=X+X1280 NEXT I290 IF Y<88 THEN 320300 Y=73310 GO TO 230320 PRINT @32,21:0,89330 PRINT USING 400:11,12,13,14,15340 PRINT @32,21:0,82350 PRINT USING 400:1,2,3,4,5360 PRINT @32,21:0,74370 PRINT USING 400:16,17,18,19,20380 PRINT @32,21:0,67390 PRINT USING 400:6,7,8,9,10400 IMAGE13X2D7X2D7X2D7X2D7X2D410 PRINT USING "LL11TFA41TFAL":"NON-SHIFTED KEY","SHIFTED KEY"420 IMAGE5TFA430 IMAGE""35TFA440 PRINT USING 420:" 1 - MENU"450 PRINT USING 430:"11 - INITIALIZE"460 PRINT USING 420:" 2 - RETRIEVE ONE LINE (H)"470 PRINT USING 430:"12 - SEND ONE LINE (H)"480 PRINT USING 420:" 3 - RETRIEVE ONE LINE (V)"490 PRINT USING 430:"13 - SEND ONE LINE (V)"500 PRINT USING 420:" 4 - WRITE A CROSS"510 PRINT USING 430:"14 - "520 PRINT USING 420:" 5 - STORE A FIELD ON TAPE"530 PRINT USING 430:"15 - SEND A FIELD FROM TAPE"540 PRINT USING 420:" 6 - "550 PRINT USING 430:"16 - "560 PRINT USING 420:" 7 - "570 PRINT USING 430:"17 - "580 PRINT USING 420:" 8 - PLOT ONE LINE (H)"590 PRINT USING 430:"18 - "600 PRINT USING 420:" 9 - "610 PRINT USING 430:"19 - "620 PRINT USING 420:"10 - RESTORE X DATA"630 PRINT USING 430:"20 - "640 PRINT USING "L5TFAS":"PRESS THE DESIRED FUNCTION KEY "650 SET KEY 660 RETURN 1000 REM HORIZONTAL ACCESS ROUTINE1010 SET NOKEY 1020 PRINT " ENTER HORIZONTAL (Y) LINE # (1-";F;"): ";1030 INPUT Y1040 A(6)=Y1050 A(6)=A(6)*F-F1060 REM CONVERT ADDRESS TO DS-12 HEX VALUE1069 GOSUB 200001070 REM1080 REM SET UP DS-121084 REM                       Lift EOI with ATTN low.1085 WBYTE @36:-51090 WBYTE @36:0,1,I1,34,2,A(1),A(2),A(3),A(4),A(5),151110 REM READ FROM DS-121130 REM GET F DATA BYTES1139 WBYTE @68:1140 RBYTE D1142 IF I1=49 THEN 11821150 REM DISPLAY DATA1160 REM   This line shifted to UDK 8  GOSUB 100001170 GO TO 12201180 REM WRITE A BLACK LINE TO DS-121182 T=D1190 D=01195 WBYTE @36:1200 WBYTE D1210 REM SET DS-12 TO LOCAL CONTROL1220 WBYTE @63,-95:1230 SET KEY 1240 RETURN 2000 REM VERTICAL ACCESS ROUTINE2010 SET NOKEY 2020 PRINT "ENTER VERTICAL (X) COLUMN # (1-";F;"): ";2030 INPUT X2050 FOR J=1 TO F2052 A(6)=X2060 GOSUB 200002065 WBYTE @36:-52070 WBYTE @36:0,1,I1,42,2,A(1),A(2),A(3),A(4),A(5),152080 IF I1=49 THEN 21302090 REM READ FROM DS-122100 WBYTE @68:2110 RBYTE D(J)2120 GO TO 21502130 REM WRITE TO DS-122135 WBYTE @36:2140 WBYTE 02150 X=X+F2160 NEXT J2170 REM SET DS-12 TO LOCAL CONTROL2180 WBYTE @63,95:2190 IF I1=49 THEN 22202200 REM DISPLAY DATA2210 REM  Use Function Key #82220 SET KEY 2230 RETURN 3000 REM WRITE A CROSS3010 SET NOKEY 3020 PRINT "ENTER X,Y COORDINATES FOR CROSS (RANGE 1-";F;" EACH): ";3030 INPUT X,Y3040 REM VERTICAL DRAW3050 Y=Y-103060 FOR I=1 TO 203062 A(6)=Y3070 GOSUB 200003074 WBYTE @36:-53080 WBYTE @36:0,1,49,42,2,A(1),A(2),A(3),A(4),A(5),153090 WBYTE 03100 Y=Y+13110 NEXT I3120 REM HORIZONTAL DRAW3130 A(6)=X-103140 GOSUB 200003144 WBYTE @36:-53150 WBYTE @36:0,1,49,42,2,A(1),A(2),A(3),A(4),A(5),153160 WBYTE @68:3170 WBYTE C3180 SET KEY 3190 RETURN 4000 REM FIELD TRANSFER ROUTINE4010 SET NOKEY 4012 WBYTE @36:-54020 WBYTE @36:0,1,I1,34,32,154030 IF I1=49 THEN 40804040 PRINT "THIS ROUTINE REQUIRES 9 DATA CARTRIDGES MARKED FOR 275";4050 PRINT "700 BYTES EACH(ONE FILE PER TAPE)"4060 PRINT "
INSERT EACH CARTRIDGE IN ORDER AS CALLED FOR."4070 GO TO 41004080 PRINT "THIS ROUTINE REQUIRES THAT 9 DATA CARTRIDGES HAVE BEEN";4090 PRINT " PREVIOUSLYRECORDED WITH DATA FROM THE DS-12."4100 F=14110 I3=84120 I4=654130 FOR I=1 TO I34140 PRINT "
INSERT DATA CARTIDGE #";F;" AND PRESS [RETURN]";4150 INPUT A$4160 FIND 14170 IF I1=49 THEN 41904180 WBYTE @68:4190 FOR I2=1 TO I44200 IF I1=49 THEN 42604210 REM READ DATA FROM DS-124220 RBYTE D4230 WRITE @33:D4240 GO TO 42804250 REM WRITE DATA TO DS-124260 READ @33:D4270 RBYTE D4280 NEXT I24290 CLOSE 4300 NEXT I4310 IF I3=1 THEN 43504320 I3=14330 I4=54340 GO TO 41304350 PRINT "
TRANSFER COMPLETE."4360 REM SET DS-12 TO LOCAL CONTROL4370 WBYTE @63,95:4380 SET KEY 4390 RETURN 5000 REM RESTORE DATA ON DS-125010 A(6)=Y5015 A(6)=A(6)*F-F5020 GOSUB 200005025 WBYTE @36:-55030 WBYTE @36:0,1,49,34,2,A(1),A(2),A(3),A(4),A(5),155040 WBYTE @36:5050 WBYTE T5055 WBYTE @63,-95:5060 RETURN 10000 REM DISPLAY DATA ON 405110010 GIN X,Y10020 WINDOW 0,F,0,30010030 PRINT @32,21:0,010040 PRINT @32,20:130,0,130,85,0,85,0,010050 PRINT @32,21:2,8110060 PRINT "WHITE (255)";10070 PRINT @32,21:2,210080 PRINT "BLACK (0)";10090 REM MOVE TO INITIAL DATA POINT10100 MOVE 0,D(1)10110 REM DRAW F DATA POINTS10120 DRAW B,D10130 WINDOW 0,130,0,10010140 PRINT @32,21:X,Y10150 RETURN 20000 REM ADDRESS CONVERSION ROUTINE20010 REM ESTABLISHES A(1) THROUGH A(5) IN HEX VALUES20020 REM A(6) IS DECIMAL ADDRESS20030 FOR I=4 TO 0 STEP -120040 E=A(6)/16^I20070 A(I+1)=INT(E)+(I+2)*1620080 A(6)=A(6)-INT(E)*16^I20090 NEXT I20100 RETURN 30000 INIT 30010 WBYTE @-36:0,1,49,42,2,32,48,65,84,99,1530020 WBYTE @36:30030 D=030040 GO TO 3006030050 D=25530060 WBYTE D30070 FOR I=1 TO 10030080 NEXT I30090 IF D=0 THEN 3005030100 GO TO 3003030110 END 