1 REM FILE 3:DATA ENTRY-DIGITIZER2 REM Part #062-3409-003 GO TO 1004 REM ---USER DEFINABLE KEYS HANDLER---8 REM12 REM16 REM20 REM24 REM28 REM32 REM36 REM40 Q9=141 RETURN100 REM 4O5O SERIES GPIB SUPPORT SOFTWARE FOR 4662110 INIT120 Q9=0130 SET KEY140 DIM F$(1),R$(90),A$(30),C$(30),B$(30),D1(4)150 RESTORE160 DATA 0,0,0,0170 READ D1180 PRINT "	DATA ENTRY-DIGITIZER"190 GO TO 300200 REM--KEYBOARD ENTRY ROUTINE210 INPUT A$220 IF LEN(A$)<1 THEN 280230 IF A$="END" THEN 940240 FOR I9=1 TO LEN(A$)250 F$=SEG(A$,I9,1)260 IF 47<ASC(F$) AND ASC(F$)<58 THEN 290270 NEXT I9280 I9=0290 RETURN300 PRINT "
Insert STORAGE TAPE and enter target file number ";310 GOSUB 200320 IF I9=0 THEN 300330 F=VAL(A$)340 FIND F350 C$="`DATA'X-AXISY-AXIS"360 R$=""370 FOR I=0 TO 2380 B$=SEG(C$,I*6+1,6)390 PRINT "Please enter ";B$;" title ";400 GOSUB 200410 F$=CHR(127)420 A$=A$&F$430 R$=R$&A$440 NEXT I450 FOR I=0 TO 3460 B$=SEG("X minY minX maxY max",I*5+1,5)470 PRINT "Please enter ";B$;"imum value ";480 GOSUB 200490 IF I9=0 THEN 510500 D1(I+1)=VAL(A$)510 NEXT I520 WRITE R$,1530 WRITE D1540 PAGE550 ON EOF (0) THEN 930560 PRINT "Move the pen to the lower left corner of the"570 PRINT "digitizing window and press CALL."580 INPUT @1,27:X,Y,Z590 O6=X600 O7=Y610 PRINT "Move the pen to the upper right corner of the digitizing"620 PRINT "window and press CALL."630 INPUT @1,27:X,Y,Z640 IF X<=O6 OR Y<=O7 THEN 150650 O8=X660 O9=Y670 PRINT "";680 IF D1(1)<>D1(3) THEN 710690 D1(1)=O6700 D1(3)=O8710 IF D1(2)<>D1(4) THEN 740720 D1(2)=O7730 D1(4)=O9740 S1=(D1(3)-D1(1))/(O8-O6)750 S2=(D1(4)-D1(2))/(O9-O7)760 VIEWPORT 0,130,0,100*(130/150)770 WINDOW 0,150,0,100780 PRINT "TO DIGITIZE:	Locate the point using the joystick on the ";790 PRINT "4662 and	then press CALL on the 4662."800 PRINT "TO TERMINATE:	Press ANY of the user definable keys on the ";810 PRINT "Graphic	System and press CALL on the 4662."820 INPUT @1,27:X,Y,Z830 IF Q9 THEN 960840 MOVE X,Y850 INPUT @32,24:X9,Y9860 PRINT @32,20:X9+0.3,Y9+0.3,X9-0.3,Y9-0.3870 PRINT @32,20:X9,Y9,X9-0.3,Y9+0.3,X9+0.3,Y9-0.3880 PRINT @32:"";890 X=(X-O6)*S1+D1(1)900 Y=(Y-O7)*S2+D1(2)910 WRITE X,Y920 GO TO 820930 REM940 PRINT "Target file too small! Remark & rerun."950 END960 REM970 WRITE "END"980 CLOSE990 PRINT @32,21:0,801000 PRINT "FILE ";F;" CLOSED"1010 PRINT "Do you wish to digitize another file ";1020 INPUT A$1030 IF A$="YES" OR A$="Y" THEN 1001040 PRINT "DATA ENTRY ended--Load SUPPORT TAPE and press ""AUTOLOAD"""1050 END