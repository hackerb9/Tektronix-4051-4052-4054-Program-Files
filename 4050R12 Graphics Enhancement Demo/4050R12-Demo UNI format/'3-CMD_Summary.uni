1 REM                 4051R12/4052R12 DEMO4 RUN 10024 GOSUB 68025 RETURN 28 GOSUB 74029 RETURN 32 GOSUB 81033 RETURN 36 GOSUB 88037 RETURN 40 GOSUB 96041 RETURN 44 FIND 545 OLD 46 RUN 56 GOSUB 102057 MOVE X,Y58 GOSUB 137059 GO TO 5860 REM Image editing61 GOSUB 162062 GOSUB 145063 GO TO 6264 GOSUB 49065 PRINT "Press any key to locate image at crosshairs"66 CALL "JMOVE",B$,C,X,Y,K$67 GO TO 52068 GOSUB 49069 GOSUB 172070 CALL "JSCALE",B$,C,H,V,X,Y,K$71 GO TO 52072 GOSUB 49073 GOSUB 175074 CALL "JSHEAR",B$,C,H,V,X,Y,K$75 GO TO 52076 GOSUB 49077 GOSUB 178078 CALL "JTAPER",B$,C,H,V,X,Y,K$79 GO TO 52080 GOSUB 49081 GOSUB 181082 CALL "JROTATE",B$,C,R,X,Y,K$83 GO TO 520100 INIT 110 PAGE 120 SET DEGREES 130 PRINT @32,21:0,100140 PRINT "	 R12 GRAPHICS ENHANCEMENT ROM PACK DEMO"150 DIM A$(3000),B$(3000),C$(3000),D$(3000),E$(6),F$(6)160 FIND 4170 CALL "IMAGES",A$180 D$=A$190 C$=""200 X=65210 Y=50220 PRINT "This demo shows the speed and ease of  operation of a small"230 PRINT "sample of fast graphics commands."240 PRINT "The first  example  shows the  speed of the SCALE, MOVE and"250 PRINT "DRAW commands.The following image contains 114 vectors with"260 PRINT "embedded moves. Four frames are  drawn with different scale"270 PRINT "factors and origins  for each. The momentary  pause between"280 PRINT "each frame is the  amount of time the  R12 takes  to scale,"290 PRINT "translate & concatinate the original 114 vector image."300 PRINT "Press Carraige Return to continue ";310 INPUT Q$320 PAGE 330 FOR S=0 TO 3340 B$=D$350 CALL "ASCALE",B$,0.4^S,0.4^S,45.592,72.936360 CALL "RDRAW",B$,1,0,0370 C$=REP(B$,LEN(C$)+1,0)380 NEXT S390 PRINT @32,21:0,100400 PRINT "To see the final concatenated image hit carriage return.";410 INPUT Q$420 PAGE 430 CALL "RDRAW",C$,1,0,0440 PRINT @32,21:0,100450 PRINT "To proceed hit carriage return.";460 INPUT Q$470 GOSUB 490480 END 490 B$=A$500 C=-10000510 CALL "ASCALE",B$,0.5,0.5,65,50520 PAGE 530 PRINT @32,21:0,100540 PRINT "User Key#            FUNCTION (use SHIFT KEY for joystick)"550 PRINT "    6                MOVE"560 PRINT "    7                SCALE"570 PRINT "    8                SHEAR"580 PRINT "    9                TAPER"590 PRINT "   10                ROTATE"600 PRINT "   11                RUN NEXT DEMO"610 PRINT "   14                RUBBER BAND LINE"620 PRINT "   15                EDITING AN IMAGE"630 CALL "RDRAW",B$,1,0,0640 MOVE 0,22650 PRINT "Note: All points LIMITED (not clipped) to screen edge."660 PRINT "Image will become distorted if points go offscreen."670 RETURN 680 GOSUB 490690 PRINT "Move the image to another location:"700 GOSUB 1100710 CALL "AMOVE",B$,X,Y720 GOSUB 520730 RETURN 740 GOSUB 490750 PRINT "Scale the image around a point:"760 GOSUB 1130770 GOSUB 1160780 CALL "ASCALE",B$,H,V,X,Y790 GOSUB 520800 RETURN 810 GOSUB 490820 PRINT "Shear (rotate X and Y axes independently):"830 GOSUB 1190840 GOSUB 1220850 CALL "ASHEAR",B$,H,V,X,Y860 GOSUB 520870 RETURN 880 GOSUB 490890 PRINT "Taper (project the image from a point, with separate X,Y"900 PRINT "scale factors). Small taper factors (-5 to +5) work best."910 GOSUB 1250920 GOSUB 1280930 CALL "ATAPER",B$,H,V,X,Y940 GOSUB 520950 RETURN 960 GOSUB 490970 GOSUB 1310980 GOSUB 1340990 CALL "AROTATE",B$,R,X,Y1000 GOSUB 5201010 RETURN 1020 REM Rubber band drawing1030 X=651040 Y=501050 PAGE 1060 PRINT @32,21:0,1001070 PRINT "TYPE `M' FOR MOVE  `D' FOR DRAW  `CARRIAGE RETURN' TO EXIT"1080 RETURN 1090 PAGE 1100 PRINT "INPUT MOVE POINT (X,Y GDU'S) : ";1110 INPUT X,Y1120 RETURN 1130 PRINT "INPUT SCALE FACTORS (X,Y -64.000 TO +64.000): ";1140 INPUT H,V1150 RETURN 1160 PRINT "INPUT SCALE CENTER (X,Y GDU'S) : ";1170 INPUT X,Y1180 RETURN 1190 PRINT "INPUT SHEAR ANGLES (X,Y DEGREES) : ";1200 INPUT H,V1210 RETURN 1220 PRINT "INPUT SHEAR CENTER (X,Y GDU'S) : ";1230 INPUT X,Y1240 RETURN 1250 PRINT "INPUT TAPER FACTORS (X,Y -64.000 TO +64.000) : ";1260 INPUT H,V1270 RETURN 1280 PRINT "INPUT TAPER CENTER (X,Y GDU'S) : ";1290 INPUT X,Y1300 RETURN 1310 PRINT "INPUT ROTATION ANGLE (R DEGREES) : ";1320 INPUT R1330 RETURN 1340 PRINT "INPUT ROTATION CENTER (X,Y GDU'S) : ";1350 INPUT X,Y1360 RETURN 1370 C=-100001380 CALL "RUBBER",C,X,Y,K$1390 K$=SEG(K$,1,1)1400 PRINT @32,20+(K$<>"D"):X,Y1410 IF LEN(K$)>0 THEN 14401420 GOSUB 4901430 END 1440 RETURN 1450 N=11460 C=-100001470 CALL "JPOINT",B$,C,N,X,Y,K$1480 E$=""1490 IF N=1 THEN 15101500 E$=SEG(B$,3*(N-1)-2,3)1510 IF N=LEN(B$)/3 THEN 15501520 F$=SEG(B$,3*(N-1)+4,3)1530 E$=E$&F$1540 C=-100001550 CALL "VERTEX",E$,C,X,Y,K$1560 IF LEN(K$)>0 THEN 15901570 GOSUB 5201580 END 1590 N=(2*(K$="D")-1)*ABS(N MAX 0.1)+11600 CALL "DEFINE",B$,N,X,Y1610 RETURN 1620 PAGE 1630 PRINT "Move cursor near point to be changed and press any key."1640 PRINT "Rubber band lines will be drawn indicating the new location"1650 PRINT "of the point. Relocate the point wherever you like and"1660 PRINT "press `M` to make it a MOVE or `D` to make it a draw. Press"1670 PRINT "Carraige return to stop and redisplay modified image."1680 B$=A$1690 CALL "ascale",B$,0.5,0.5,65,501700 CALL "rdraw",B$,1,0,01710 RETURN 1720 GOSUB 11301730 PRINT "Locate scale center and press any key"1740 RETURN 1750 GOSUB 11901760 PRINT "Locate Shear center and press any key"1770 RETURN 1780 GOSUB 12501790 PRINT "Locate Taper center and press any key"1800 RETURN 1810 GOSUB 13101820 PRINT "Locate Rotate center and press any key"1830 RETURN 